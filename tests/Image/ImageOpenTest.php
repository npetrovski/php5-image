<?php

class ImageOpenTest extends PHPUnit_Framework_TestCase
{

    public function testOpen()
    {
        // open existing image
        $image = new Image\Canvas(__DIR__.DIRECTORY_SEPARATOR."..".DIRECTORY_SEPARATOR."image.png");

        $this->assertEquals((isset($image->image) && 'gd' == get_resource_type($image->image)), true);
    }

    /**
     * @expectedException Image\Exception
     * expectedExceptionMessage Image file does not exist
     */
    public function testOpenNotExists()
    {
        // open a non existing file
        $image = new Image\Canvas(__DIR__.DIRECTORY_SEPARATOR.mt_rand(0, 100)."doesnotexist.png");
    }

    /**
     * @expectedException Image\Exception
     * expectedExceptionMessage File is not an image
     */
    public function testOpenWrongType()
    {
        // open this file (.php), not an image..
        $image = new Image\Canvas(__FILE__);
    }
}
